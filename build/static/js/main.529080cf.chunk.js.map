{"version":3,"sources":["components/SearchFilter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["SearchFilter","props","value","filterName","onChange","handleFilterNameChange","PersonForm","onSubmit","handleNameSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","onClick","onDelete","Persons","persons","map","person","id","filterPersons","Notification","message","styleClass","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setFilterPersons","notificationMessage","setNotificationMessage","notificationStyle","setNotificationStyle","useEffect","personService","fetchedPersons","displayNotification","style","timeout","setTimeout","event","target","filter","toLowerCase","preventDefault","existingPerson","find","newPerson","window","confirm","updatedPerson","p","catch","error","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.529080cf.chunk.js","sourcesContent":["import React from 'react'\n\nconst SearchFilter = (props) => {\n  return (\n    <div>\n      filter shown with: <input value={props.filterName} onChange={props.handleFilterNameChange} />\n    </div>\n  )\n}\n\nexport default SearchFilter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.handleNameSubmit}>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = (props) => \n<p>\n  {props.name} {props.number}\n  <button onClick={props.onDelete}>Delete</button>\n</p>\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n  return (\n    props.filterName === '' ?\n    props.persons.map(person => <Person onDelete={()=>props.onDelete(person.id,person.name)} key={person.name} name={person.name} number={person.number}></Person>) :\n    props.filterPersons.map(person => <Person onDelete={()=>props.onDelete(person.id,person.name)} key={person.name} name={person.name} number={person.number}></Person>)\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message, styleClass }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={styleClass}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteResource = id => axios.delete(`${baseUrl}/${id}`)\n\nexport default { getAll, create, update, deleteResource}","import React, { useState, useEffect } from 'react'\nimport SearchFilter from './components/SearchFilter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterName, setFilterName] = useState('')\n  const [filterPersons, setFilterPersons] = useState(persons)\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationStyle, setNotificationStyle] = useState('success')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(fetchedPersons => {\n        setPersons(fetchedPersons)\n      })\n  }, [])\n\n  useEffect(()=>{\n    setNewName('')\n    setNewNumber('')\n  },[persons])\n\n  const displayNotification = (message, style, timeout) => {\n    setNotificationStyle(style)\n    setNotificationMessage(message)\n          setTimeout(()=>{\n            setNotificationMessage(null)\n          },timeout)\n  }\n\n  const handlePersonDelete = (id,name) => {\n    if(window.confirm(`Delete ${name} ?`))\n    {\n      personService.deleteResource(id)\n      .then(()=>{\n        setPersons(persons.filter(p=>p.id !== id))\n        displayNotification(`Deleted ${name}`,'success',5000)\n      })\n      .catch(error=>{\n        displayNotification(`Failed not delete ${name}`,'error',5000)\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterNameChange = (event) => {\n    setFilterName(event.target.value);\n    setFilterPersons(persons.filter(person => person.name.toLowerCase() === event.target.value.toLowerCase()))\n  }\n\n  const handleNameSubmit = (event) => {\n    event.preventDefault();\n\n    const existingPerson = persons.find(person => person.name === newName)\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (existingPerson) {\n      if(window.confirm(`${newName} is already added to the phonebook, replace old number with a new one?`))\n      {\n        personService.update(existingPerson.id,newPerson)\n        .then(updatedPerson => {\n          setPersons(persons.map(p=> p.id !== existingPerson.id ? p : updatedPerson))\n          displayNotification(`Updated ${updatedPerson.name}`,'success',5000)\n        })\n        .catch(error=>{\n          displayNotification(`Information of ${existingPerson.name} has already been removed from server`,'error',5000)\n          personService\n          .getAll()\n          .then(fetchedPersons => {\n            setPersons(fetchedPersons)\n          })\n        })\n      }\n    }\n    else {\n      personService.create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          displayNotification(`Added ${returnedPerson.name}`,'success',5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} styleClass={notificationStyle}></Notification>\n      <SearchFilter filterName={filterName} handleFilterNameChange={handleFilterNameChange}></SearchFilter>\n      <h2>Add a new number</h2>\n      <PersonForm\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        handleNameSubmit={handleNameSubmit}>\n      </PersonForm>\n\n      <h2>Numbers</h2>\n      <Persons onDelete={handlePersonDelete} filterName={filterName} persons={persons} filterPersons={filterPersons}></Persons>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}